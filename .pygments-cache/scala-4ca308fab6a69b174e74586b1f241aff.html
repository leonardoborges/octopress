<div class="highlight"><pre><span class="k">val</span> <span class="n">g</span> <span class="k">=</span> <span class="n">make</span><span class="o">(</span><span class="n">_:</span><span class="nc">Int</span><span class="o">)</span> <span class="n">flatMap</span> <span class="o">(</span><span class="n">m</span> <span class="k">=&gt;</span>
    <span class="n">parts</span><span class="o">(</span><span class="n">m</span><span class="o">).</span><span class="n">map</span><span class="o">(</span><span class="n">p</span> <span class="k">=&gt;</span> <span class="n">p</span><span class="o">))</span>
<span class="n">g</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="c1">// Some(NonEmptyList(Part(1,Gear Box), Part(2,Clutch cable)))</span>

<span class="c1">// you can also use the symbolic alias for &#39;bind&#39;, which makes it a lot nicer</span>
<span class="k">val</span> <span class="n">h</span> <span class="k">=</span> <span class="n">make</span><span class="o">(</span><span class="n">_:</span><span class="nc">Int</span><span class="o">)</span> <span class="o">&gt;&gt;=</span> <span class="n">parts</span>
<span class="n">h</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
<span class="c1">// Some(NonEmptyList(Part(1,Gear Box), Part(2,Clutch cable)))</span>
</pre>
</div>
